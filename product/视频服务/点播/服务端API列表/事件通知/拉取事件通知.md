## 接口名称
PullVodEvent

## 功能说明
1. 该接口用于从点播服务端获取事件通知，详见服务端事件通知；
2. 该接口为长轮询模式，即：如果服务端存在未消费事件，则立即返回给请求方；如果服务端没有未消费事件，则后台会将请求挂起，直到有新的事件产生为止；
3. 该接口最多会将请求挂起5秒，建议请求方将超时时间设置为10秒；
4. 如果服务端有时间返回，调用方必须再调用ConfirmVodEvent来确认已经该事件通知已经处理，否则该事件通知会再次被拉取到。

### 请求方式

#### 请求域名
vod.api.qcloud.com

#### 参数说明
无

#### 请求示例
```
https://vod.api.qcloud.com/v2/index.php?Action=PullVodEvent
&COMMON_PARAMS
```
#### 接口应答

#### 参数说明
| 参数名称 | 类型 | 说明 |
|---------|---------|---------|
| code | Integer | 错误码, 0: 成功, 其他值: 失败 |
| message | String | 错误信息 |
| eventList | Array | 服务端返回的事件列表 |
| msgHandle | String | 事件句柄，调用方必须调用ConfirmVodEvent来确认消息已经收到  |
| eventContent | Object | 具体的事件内容 |

#### 错误码说明
| 错误码 | 含义说明|
|---------|---------|
| 4000-7000 | 参见公共错误码  |
| 1000 | 无效参数  |
| 1001 | 数据库获取用户信息失败  |
| 2000 | 访问数据库失败  |

#### 应答示例
```
{
    "code": 0,
    "message": "",
    "eventList": [
        {
            "msgHandle": "ABCDEFG",
            "eventContent": {
                "status": 0,
                "message": "",
                "task": "concatfile",
                "data": {
                    "vod_task_id": "XXXX"
                }
            }
        },
        {
            "msgHandle": "HIGKLMN",
            "eventContent": {
                "status": 0,
                "message": "",
                "task": "concatfile",
                "data": {
                    "vod_task_id": "YYYY"
                }
            }
        }
    ]
}
```

## 确认消费事件
### 请求方式

#### 请求域名
vod.api.qcloud.com

#### 参数说明
| 参数名称 | 必填 | 类型 | 说明 |
|---------|---------|---------|---------|
| MsgHandle | 是 | String | 用以消费的句柄 |

#### 请求示例
```
https://domain/v2/index.php?Action=ConfirmVodEvent&COMMON_PARAMS&msgHandle.1=283748239349283&msgHandle.2=283748239349284

```
### 接口应答

#### 参数说明
| 参数名称 | 类型 | 说明 |
|---------|---------|---------|
| code | Integer | 错误码, 0: 成功, 其他值: 失败 |
| message | String | 错误信息  |

#### 错误码说明
| 错误码 | 含义说明|
|---------|---------|
| 4000-7000 | 参见公共错误码  |
| 1000 | 无效参数  |
| 1001 | 数据库获取用户信息失败  ||
| 2000 | 访问数据库失败  |


#### 应答示例
```
{
	"code": 0,
	"message":""
}
```
