## 接口名称
PullVodEvent;
ConfirmVodEvent

## 功能说明
1. 用户需要循环调用PullVodEvent获取事件，这个请求使用长轮询机制，超时时间应该设置10s，返回包会包含事件信息和相应的msg_handle。；
2. 用户处理完回调需要通过ConfirmVodEvent命令向server确认，否则的话一段时间后用户还可能会拉取到同一个事件。

## 拉取拼接事件

### 请求方式

#### 请求域名
vod.api.qcloud.com

#### 参数说明
只有公共参数

#### 请求示例
```
  https://vod2.api.qcloud.com/v2/index.php?Action=ActionName&COMMON_PARAMS
```
#### 接口应答

#### 参数说明
| 参数名称 | 类型 | 说明 |
|---------|---------|---------|
| code | Integer | 错误码, 0: 成功, 其他值: 失败 |
| message | String | 错误信息 |
| msgHandle | String | 事件的唯一描述句柄，用于确认消费 |
| eventType | String | 事件类型  |
| fileInfo | Struct | 拼接出来的文件信息 |
| fileId | String | 文件id  |
| fileUrl | String | 文件url  |
| fileType | String | 文件类型  |

#### 错误码说明
| 错误码 | 含义说明|
|---------|---------|
| 4000-7000 | 参见公共错误码  |
| 1000 | 无效参数  |
| 1001 | 数据库获取用户信息失败  |
| 2000 | 访问数据库失败  |

#### 应答示例
```
{
    "code": 0,
    "message": "",
    "eventList": [
        {
            "msgHandle": "283748239349283",
            "eventContent": {
                "status": 0,
                "message": "",
                "eventType": "concat_file",
                "data": {
                    "fileInfo": [
                        {
                            "fileId": "9031868222807519",
                            "fileUrl": "http: //12514121.vod2.myqcloud.com/vod12514121/903186822280754519/playlist.f3.m3u8",
                            "fileType": "ts"
                        },
                        {
                            "fileId": "90318682228074520",
                            "fileUrl": "http: //12514121.vod2.myqcloud.com/vod12514121/903186822280754520/playlist.f9.mp4",
                            "fileType": "mp4"
                        }
                    ]
                }
            }
        }
    ]
}
```

## 确认消费事件
### 请求方式

#### 请求域名
vod.api.qcloud.com

#### 参数说明
| 参数名称 | 必填 | 类型 | 说明 |
|---------|---------|---------|---------|
| MsgHandle | 是 | String | 用以消费的句柄 |

#### 请求示例
```
https://domain/v2/index.php?Action=ConfirmVodEvent&COMMON_PARAMS&msgHandle.1=283748239349283&msgHandle.2=283748239349284

```
### 接口应答

#### 参数说明
| 参数名称 | 类型 | 说明 |
|---------|---------|---------|
| code | Integer | 错误码, 0: 成功, 其他值: 失败 |
| message | String | 错误信息  |

#### 错误码说明
| 错误码 | 含义说明|
|---------|---------|
| 4000-7000 | 参见公共错误码  |
| 1000 | 无效参数  |
| 1001 | 数据库获取用户信息失败  ||
| 2000 | 访问数据库失败  |


#### 应答示例
```
{
	"code": 0,
	"message":""
}
```
